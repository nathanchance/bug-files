
[01;32mQEMU location: [0m/usr/sbin[0m

[01;32mQEMU version: [0mQEMU emulator version 8.0.3[0m
Activating Kernel Userspace Access Protection
Activating Kernel Userspace Execution Prevention
Linux version 6.5.0-rc5-next-20230809-cbl-00030-g8150cbc757fd (nathan@dev-arch.m3-large-x86-01) (ClangBuiltLinux clang version 13.0.1 (https://github.com/llvm/llvm-project 75e33f71c2dae584b13a7d1186ae0a038ba98838), ClangBuiltLinux LLD 13.0.1 (https://github.com/llvm/llvm-project 75e33f71c2dae584b13a7d1186ae0a038ba98838)) #1 Sat Aug 12 10:45:49 UTC 2023
Found initrd at 0xc1900000:0xc1d9a600
Hardware name: amcc,bamboo 440GR Rev. B 0x422218d3 PowerPC 44x Platform
printk: bootconsole [udbg0] enabled
-----------------------------------------------------
phys_mem_size     = 0x8000000
dcache_bsize      = 0x20
icache_bsize      = 0x20
cpu_features      = 0x0000000000000100
  possible        = 0x0000000040000100
  always          = 0x0000000000000100
cpu_user_features = 0x8c008000 0x00000000
mmu_features      = 0x00000208
-----------------------------------------------------
Zone ranges:
  Normal   [mem 0x0000000000000000-0x0000000007ffffff]
Movable zone start for each node
Early memory node ranges
  node   0: [mem 0x0000000000000000-0x0000000007ffffff]
Initmem setup node 0 [mem 0x0000000000000000-0x0000000007ffffff]
MMU: Allocated 1088 bytes of context maps for 255 contexts
Kernel command line: console=ttyS0
Dentry cache hash table entries: 16384 (order: 4, 65536 bytes, linear)
Inode-cache hash table entries: 8192 (order: 3, 32768 bytes, linear)
Built 1 zonelists, mobility grouping on.  Total pages: 32512
mem auto-init: stack:all(zero), heap alloc:off, heap free:off
Kernel virtual memory layout:
  * 0xffbdf000..0xfffff000  : fixmap
  * 0xd1000000..0xffbdf000  : vmalloc & ioremap
Memory: 117700K/131072K available (5456K kernel code, 236K rwdata, 1288K rodata, 272K init, 170K bss, 13372K reserved, 0K cma-reserved)
SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
NR_IRQS: 512, nr_irqs: 512, preallocated irqs: 16
UIC0 (32 IRQ sources) at DCR 0xc0
clocksource: timebase: mask: 0xffffffffffffffff max_cycles: 0x5c4093a7d1, max_idle_ns: 440795210635 ns
clocksource: timebase mult[2800000] shift[24] registered
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns
futex hash table entries: 256 (order: -1, 3072 bytes, linear)
NET: Registered PF_NETLINK/PF_ROUTE protocol family
DMA: preallocated 128 KiB GFP_KERNEL pool for atomic allocations
             
PCI host bridge /plb/pci@ec000000 (primary) ranges:
 MEM 0x00000000a0000000..0x00000000bfffffff -> 0x00000000a0000000 
  IO 0x00000000e8000000..0x00000000e800ffff -> 0x0000000000000000
4xx PCI DMA offset set to 0x00000000
4xx PCI DMA window base to 0x0000000000000000
DMA window size 0x0000000080000000
PCI: Probing PCI hardware
PCI host bridge to bus 0000:00
pci_bus 0000:00: root bus resource [io  0x0000-0xffff]
pci_bus 0000:00: root bus resource [mem 0xa0000000-0xbfffffff]
pci_bus 0000:00: root bus resource [bus 00-ff]
pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to ff
pci 0000:00:00.0: [1014:027f] type 00 class 0x068000
PCI: Hiding 4xx host bridge resources 0000:00:00.0
pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to 00
pci_bus 0000:00: resource 4 [io  0x0000-0xffff]
pci_bus 0000:00: resource 5 [mem 0xa0000000-0xbfffffff]
pps_core: LinuxPPS API ver. 1 registered
pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
PTP clock support registered
vgaarb: loaded
clocksource: Switched to clocksource timebase
NET: Registered PF_INET protocol family
IP idents hash table entries: 2048 (order: 2, 16384 bytes, linear)
tcp_listen_portaddr_hash hash table entries: 1024 (order: 0, 4096 bytes, linear)
Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
TCP established hash table entries: 1024 (order: 0, 4096 bytes, linear)
TCP bind hash table entries: 1024 (order: 1, 8192 bytes, linear)
TCP: Hash tables configured (established 1024 bind 1024)
UDP hash table entries: 256 (order: 0, 4096 bytes, linear)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes, linear)
NET: Registered PF_UNIX/PF_LOCAL protocol family
RPC: Registered named UNIX socket transport module.
RPC: Registered udp transport module.
RPC: Registered tcp transport module.
RPC: Registered tcp-with-tls transport module.
RPC: Registered tcp NFSv4.1 backchannel transport module.
PCI: CLS 0 bytes, default 32
workingset: timestamp_bits=30 max_order=15 bucket_order=0
jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
io scheduler mq-deadline registered
io scheduler kyber registered
Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
printk: console [ttyS0] disabled
serial8250.0: ttyS0 at MMIO 0xef600300 (irq = 16, base_baud = 691200) is a 16550A
printk: console [ttyS0] enabled
printk: console [ttyS0] enabled
printk: bootconsole [udbg0] disabled
printk: bootconsole [udbg0] disabled
Trying to unpack rootfs image as initramfs...
sysfs: cannot create duplicate filename '/devices/platform/serial8250.0/serial8250.0:0/serial8250.0:0.0'
CPU: 0 PID: 1 Comm: swapper Not tainted 6.5.0-rc5-next-20230809-cbl-00030-g8150cbc757fd #1
Hardware name: amcc,bamboo 440GR Rev. B 0x422218d3 PowerPC 44x Platform
Call Trace:
[c0813610] [c052265c] dump_stack_lvl+0x34/0x50 (unreliable)
[c0813630] [c0522690] dump_stack+0x18/0x28
[c0813640] [c01ba2b8] sysfs_create_dir_ns+0x110/0x158
[c0813670] [c052b0f0] kobject_add_internal+0x23c/0x3fc
[c0813690] [c052a058] kobject_add+0xa8/0x10c
[c08136e0] [c0311920] device_add+0x1ec/0x614
[c0813710] [c02fe3ec] serial_base_port_add+0xdc/0x124
[c0813730] [c02f9300] serial_core_register_port+0xe8/0x700
[c08137b0] [c02fe5cc] serial_ctrl_register_port+0x10/0x20
[c08137c0] [c02fe6a8] uart_add_one_port+0x10/0x20
[c08137d0] [c02fef48] serial8250_register_8250_port+0x538/0x624
[c08137f0] [c02fff4c] serial8250_probe+0x184/0x1fc
[c0813a30] [c031e528] platform_probe+0xa0/0xe4
[c0813a50] [c031a640] really_probe+0x128/0x3bc
[c0813a70] [c0319780] __driver_probe_device+0xa4/0x21c
[c0813a90] [c031a3a0] driver_probe_device+0x4c/0x1c4
[c0813ab0] [c0319a28] __driver_attach+0xfc/0x1e0
[c0813ad0] [c0316274] bus_for_each_dev+0x108/0x150
[c0813b00] [c031991c] driver_attach+0x24/0x34
[c0813b10] [c0316b9c] bus_add_driver+0x224/0x27c
[c0813b40] [c031b3e4] driver_register+0x8c/0x148
[c0813b60] [c031dc90] __platform_driver_register+0x28/0x38
[c0813b70] [c06b8650] serial8250_init+0x124/0x140
[c0813b90] [c0002340] do_one_initcall+0xcc/0x344
[c0813e80] [c0697288] do_initcall_level+0x90/0xb4
[c0813ea0] [c06971ac] do_initcalls+0x5c/0xa8
[c0813ec0] [c0697140] do_basic_setup+0x18/0x28
[c0813ed0] [c06970d0] kernel_init_freeable+0xa4/0xfc
[c0813ef0] [c0002768] kernel_init+0x20/0x1c8
[c0813f00] [c000e1fc] ret_from_kernel_user_thread+0x14/0x1c
--- interrupt: 0 at 0x0
NIP:  00000000 LR: 00000000 CTR: 00000000
REGS: c0813f10 TRAP: 0000   Not tainted  (6.5.0-rc5-next-20230809-cbl-00030-g8150cbc757fd)
MSR:  00000000 <>  CR: 00000000  XER: 00000000

GPR00: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
GPR08: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
GPR16: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
GPR24: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
NIP [00000000] 0x0
LR [00000000] 0x0
--- interrupt: 0
kobject: kobject_add_internal failed for serial8250.0:0.0 with -EEXIST, don't try to register things with the same name in the same directory.
serial8250 serial8250.0: unable to register port at index 1 (IO0 MEMef600400 IRQ17): -17
printk: console [ttyS0] disabled
printk: console [ttyS0] enabled
ef600400.serial: ttyS1 at MMIO 0xef600400 (irq = 17, base_baud = 691200) is a 16550
brd: module loaded
PPC 4xx OCP EMAC driver, version 3.54
ZMII /plb/opb/emac-zmii@ef600d00 initialized
NET: Registered PF_INET6 protocol family
Freeing initrd memory: 4712K
Segment Routing with IPv6
In-situ OAM (IOAM) with IPv6
sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
NET: Registered PF_PACKET protocol family
drmem: No dynamic reconfiguration memory found
Freeing unused kernel image (initmem) memory: 272K
This architecture does not have kernel memory protection.
Run /init as init process
mount: mounting devtmpfs on /dev failed: No such device
Starting syslogd: OK
Starting klogd: OK
Running sysctl: OK
Saving 256 bits of non-creditable seed for next boot
Starting network: OK
Linux version 6.5.0-rc5-next-20230809-cbl-00030-g8150cbc757fd (nathan@dev-arch.m3-large-x86-01) (ClangBuiltLinux clang version 13.0.1 (https://github.com/llvm/llvm-project 75e33f71c2dae584b13a7d1186ae0a038ba98838), ClangBuiltLinux LLD 13.0.1 (https://github.com/llvm/llvm-project 75e33f71c2dae584b13a7d1186ae0a038ba98838)) #1 Sat Aug 12 10:45:49 UTC 2023
Stopping network: OK
Seeding 256 bits without crediting
seedrng: can't open '/dev/urandom': No such file or directory
Stopping klogd: OK
Stopping syslogd: OK
umount: can't unmount /: Invalid argument

The system is going down NOW!

Sent SIGTERM to all processes

Sent SIGKILL to all processes

Requesting system reboot
reboot: Restarting system
$ timeout --foreground 3m stdbuf -eL -oL /usr/sbin/qemu-system-ppc -display none -nodefaults -no-reboot -machine bamboo -append console=ttyS0 -kernel /home/nathan/tmp/build/cbl_lkt/linux-next/powerpc/arch/powerpc/boot/uImage -initrd /home/nathan/cbl/llvm-kernel-testing/src/boot-utils/images/ppc32/rootfs.cpio -m 128m -serial mon:stdio
